<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="pappaya_pos_structure_form" model="ir.ui.view">
			<field name="name">pappaya.pos.structure.form</field>
			<field name="model">pappaya.pos.structure</field>
			<field name="arch" type="xml">
				<form string="PoS" version="7.0" duplicate="0">
					<sheet>
						<group col="4" colspan="2">
							<field name="society_ids" widget="many2many_tags"  options="{'no_open': True,'no_create':True}" domain="[('type','=','society')]" required="1" class="asterik"/>
							<field name="school_ids"  widget="many2many_tags" options="{'no_open': True,'no_create':True}" domain="[('type','=','school'),('parent_id','in', society_ids)]"  required="1" class="asterik"/>
							<field name="academic_year_id" options="{'no_open': True,'no_create':True}" domain="[('school_id','in', school_ids)]" required="1" class="asterik" />
							<field name="pos_percentage" required="1" class="asterik"/>
						</group>
					</sheet>
				</form>
			</field>
		</record>
		
		<record id="pappaya_pos_structure_tree" model="ir.ui.view">
			<field name="name">pappaya_pos_structure_tree</field>
			<field name="model">pappaya.pos.structure</field>
			<field name="priority" eval="5" />
			<field name="arch" type="xml">
				<tree string="Fees Structure">
				    <field name="school_ids"/>
				    <field name="society_ids"/>
				    <field name="academic_year_id"/>
				    <field name="pos_percentage" />
				</tree>
			</field>
		</record>
		
		
		<record id="pappaya_pos_structure_search" model="ir.ui.view">
            <field name="name">pappaya.pos.structure.search</field>
            <field name="model">pappaya.pos.structure</field>
            <field name="priority" eval="8" />
            <field name="arch" type="xml">
                <search string="Fees Structure">
                    <field name="school_ids"/>
                    <field name="society_ids"/>
                    <field name="academic_year_id"/>
                    <field name="pos_percentage"/>
                    <newline />
					<group expand="0" string="Group By...">
						<filter string="Academic Year" domain="[]" context="{'group_by':'academic_year_id'}"/>
                    </group>
                </search>
            </field>
        </record>
		
		
		<record model="ir.actions.act_window" id="action_pappaya_pos_structure_id">
			<field name="name"> Fees Management > Configuration > PoS</field>
			<field name="res_model">pappaya.pos.structure</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		
		
	</data>
</odoo>
